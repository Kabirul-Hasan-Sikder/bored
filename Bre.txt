#include <graphics.h>
#include <stdio.h>
#include <time.h>

int main()
{
    int gd = DETECT;
    int gm;
    initgraph(&gd, &gm, "C:\\TC\\BGI");

    int coordsForHourX[12] = {50, 87, 100, 87, 50, 0, -50, -87, -100, -87, -50, 0};
    int coordsForHourY[12] = {-87, -50, 0, 50, 87, 100, 87, 50, 0, -50, -87, -100};

    int coordsForMinSecX[60] = {0, 18, 35, 53, 69, 85, 100, 114, 126, 138,
                                147, 155, 162, 166, 169, 170, 169, 166, 162, 155,
                                147, 138, 126, 114, 100, 85, 69, 53, 35, 18,
                                0, -18, -35, -53, -69, -85, -100, -114, -126, -138,
                                -147, -155, -162, -166, -169, -170, -169, -166, -162, -155,
                                -147, -138, -126, -114, -100, -85, -69, -53, -35, -18};

    int coordsForMinSecY[60] = {-170, -169, -166, -162, -155, -147, -138, -126, -114, -100,
                                -85, -69, -53, -35, -18, 0, 18, 35, 53, 69,
                                85, 100, 114, 126, 138, 147, 155, 162, 166, 169,
                                170, 169, 166, 162, 155, 147, 138, 126, 114, 100,
                                85, 69, 53, 35, 18, 0, -18, -35, -53, -69,
                                -85, -100, -114, -126, -138, -147, -155, -162, -166, -169};

while(1)
{

    time_t rawTime;
    struct tm * currentTime;
    char a[100];

    int midX = getmaxx() / 2;
    int midY = getmaxy() / 2;

    int IMS;
    rawTime = time(NULL);
    currentTime = localtime(&rawTime);

    setcolor(WHITE);
    circle(midX , midY, 200);

    outtextxy(midX+95+(-5),   midY-165+(-5), "1");
    outtextxy(midX+165+(-5),   midY-95+(-5), "2");
    outtextxy(midX+190+(-5),   midY+0+(-7), "3");
    outtextxy(midX+165+(-7),   midY+95+(-7), "4");
    outtextxy(midX+95+(-5),   midY+165+(-10), "5");
    outtextxy(midX+0+(-3),   midY+190+(-10), "6");
    outtextxy(midX-95+(0),   midY+165+(-10), "7");
    outtextxy(midX-165+(-2),   midY+95+(-10), "8");
    outtextxy(midX-190+(-3),   midY+0+(-7), "9");
    outtextxy(midX-165+(-5),   midY-95+(-3), "10");
    outtextxy(midX-95+(-5),   midY-165+(-5), "11");
    outtextxy(midX+0+(-6),   midY-190+(-5), "12");

    strftime(a, 100, "%I", currentTime);
    sscanf(a, "%d", &IMS);
    setcolor(RED);
    line(midX, midY, midX+coordsForHourX[IMS-1], midY+coordsForHourY[IMS-1]);

    strftime(a, 100, "%M", currentTime);
    sscanf(a, "%d", &IMS);
    setcolor(YELLOW);
    line(midX, midY, midX+coordsForMinSecX[IMS], midY+coordsForMinSecY[IMS]);

    strftime(a, 100, "%S", currentTime);
    sscanf(a, "%d", &IMS);
    setcolor(GREEN);
    line(midX, midY, midX+coordsForMinSecX[IMS-1], midY+coordsForMinSecY[IMS-1]);

    delay(1000);
    cleardevice();
}

    getch();
    closegraph();

}
